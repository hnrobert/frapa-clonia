<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:FrapaClonia.UI.ViewModels;assembly=FrapaClonia.UI"
        xmlns:views="clr-namespace:FrapaClonia.UI.Views;assembly=FrapaClonia.UI"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="800"
        x:Class="FrapaClonia.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="FrapaClonia"
        MinWidth="900" MinHeight="600">

    <Design.DataContext>
        <vm:MainWindowViewModel/>
    </Design.DataContext>

    <Window.Styles>
        <!-- Navigation Button Style -->
        <Style Selector="Button.nav-button">
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="HorizontalContentAlignment" Value="Left" />
            <Setter Property="Padding" Value="16" />
            <Setter Property="Margin" Value="0" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="{DynamicResource SystemControlPageTextBaseHighBrush}" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="MinHeight" Value="40" />
        </Style>

        <Style Selector="Button.nav-button:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource SystemControlHighlightListLowBrush}" />
        </Style>

        <Style Selector="Button.nav-button:pressed /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource SystemControlHighlightListMediumBrush}" />
        </Style>

        <Style Selector="Button.nav-button:focus">
            <Setter Property="BorderBrush" Value="{DynamicResource SystemControlFocusVisualFocusBrush}" />
            <Setter Property="BorderThickness" Value="2" />
        </Style>

        <Style Selector="Button.nav-button:disabled">
            <Setter Property="Opacity" Value="0.5" />
        </Style>

        <!-- Navigation Icon Style -->
        <Style Selector="Path.nav-icon">
            <Setter Property="Width" Value="18" />
            <Setter Property="Height" Value="18" />
            <Setter Property="Stretch" Value="Uniform" />
            <Setter Property="Fill" Value="{DynamicResource SystemControlPageTextBaseMediumBrush}" />
        </Style>

        <Style Selector="Button.nav-button:pointerover Path.nav-icon">
            <Setter Property="Fill" Value="{DynamicResource SystemControlHighlightAltBaseHighBrush}" />
        </Style>

        <!-- Section Header Style -->
        <Style Selector="TextBlock.section-header">
            <Setter Property="FontSize" Value="11" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Foreground" Value="{DynamicResource SystemControlPageTextBaseMediumBrush}" />
        </Style>
    </Window.Styles>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="240" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Sidebar Navigation -->
        <Border Grid.Column="0"
                Background="{DynamicResource SystemAltMediumHighBackgroundColor}"
                BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                BorderThickness="0,0,1,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Spacing="8" Margin="16">
                    <!-- App Title Section -->
                    <Border Padding="0,0,0,16">
                        <Grid ColumnDefinitions="Auto,*">
                            <!-- App Icon -->
                            <Border Grid.Column="0"
                                    Width="36" Height="36"
                                    CornerRadius="8"
                                    Background="{DynamicResource SystemAccentColor}"
                                    Margin="0,0,12,0">
                                <TextBlock Text="F"
                                           FontSize="20"
                                           FontWeight="Bold"
                                           Foreground="White"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center" />
                            </Border>

                            <!-- App Title -->
                            <StackPanel Grid.Column="1" Spacing="2" VerticalAlignment="Center">
                                <TextBlock Text="FrapaClonia"
                                           FontSize="16"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource SystemControlPageTextBaseHighBrush}" />
                                <TextBlock Text="frpc Client Manager"
                                           FontSize="11"
                                           Foreground="{DynamicResource SystemControlPageTextBaseMediumBrush}" />
                            </StackPanel>
                        </Grid>
                    </Border>

                    <Separator Margin="0" Foreground="{DynamicResource SystemControlForegroundBaseLowBrush}" />

                    <!-- Navigation Section -->
                    <StackPanel Spacing="4" Margin="0,16,0,0">
                        <TextBlock Text="NAVIGATION"
                                   Classes="section-header"
                                   Margin="0,0,0,8" />

                        <!-- Dashboard -->
                        <Button Command="{Binding NavigateToDashboardCommand}"
                                Classes="nav-button"
                                AutomationProperties.Name="Navigate to Dashboard">
                            <Grid ColumnDefinitions="Auto,*">
                                <Path Grid.Column="0"
                                      Classes="nav-icon"
                                      Data="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"
                                      Margin="0,0,12,0" />
                                <TextBlock Grid.Column="1" Text="Dashboard" />
                            </Grid>
                        </Button>

                        <!-- Server Config -->
                        <Button Command="{Binding NavigateToServerConfigCommand}"
                                Classes="nav-button"
                                AutomationProperties.Name="Navigate to Server Configuration">
                            <Grid ColumnDefinitions="Auto,*">
                                <Path Grid.Column="0"
                                      Classes="nav-icon"
                                      Data="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"
                                      Margin="0,0,12,0" />
                                <TextBlock Grid.Column="1" Text="Server Config" />
                            </Grid>
                        </Button>

                        <!-- Proxies -->
                        <Button Command="{Binding NavigateToProxiesCommand}"
                                Classes="nav-button"
                                AutomationProperties.Name="Navigate to Proxies">
                            <Grid ColumnDefinitions="Auto,*">
                                <Path Grid.Column="0"
                                      Classes="nav-icon"
                                      Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"
                                      Margin="0,0,12,0" />
                                <TextBlock Grid.Column="1" Text="Proxies" />
                            </Grid>
                        </Button>

                        <!-- Visitors -->
                        <Button Command="{Binding NavigateToVisitorsCommand}"
                                Classes="nav-button"
                                AutomationProperties.Name="Navigate to Visitors">
                            <Grid ColumnDefinitions="Auto,*">
                                <Path Grid.Column="0"
                                      Classes="nav-icon"
                                      Data="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"
                                      Margin="0,0,12,0" />
                                <TextBlock Grid.Column="1" Text="Visitors" />
                            </Grid>
                        </Button>

                        <!-- Deployment -->
                        <Button Classes="nav-button"
                                AutomationProperties.Name="Navigate to Deployment"
                                IsEnabled="False">
                            <Grid ColumnDefinitions="Auto,*">
                                <Path Grid.Column="0"
                                      Classes="nav-icon"
                                      Data="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"
                                      Margin="0,0,12,0" />
                                <StackPanel Grid.Column="1" Spacing="2">
                                    <TextBlock Text="Deployment" />
                                    <TextBlock Text="Coming Soon"
                                               FontSize="10"
                                               Foreground="{DynamicResource SystemControlPageTextBaseLowBrush}"
                                               Opacity="0.7" />
                                </StackPanel>
                            </Grid>
                        </Button>

                        <!-- Logs -->
                        <Button Classes="nav-button"
                                AutomationProperties.Name="Navigate to Logs"
                                IsEnabled="False">
                            <Grid ColumnDefinitions="Auto,*">
                                <Path Grid.Column="0"
                                      Classes="nav-icon"
                                      Data="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"
                                      Margin="0,0,12,0" />
                                <StackPanel Grid.Column="1" Spacing="2">
                                    <TextBlock Text="Logs" />
                                    <TextBlock Text="Coming Soon"
                                               FontSize="10"
                                               Foreground="{DynamicResource SystemControlPageTextBaseLowBrush}"
                                               Opacity="0.7" />
                                </StackPanel>
                            </Grid>
                        </Button>
                    </StackPanel>

                    <Separator Margin="0,16,0,16"
                               Foreground="{DynamicResource SystemControlForegroundBaseLowBrush}" />

                    <!-- Settings Section -->
                    <StackPanel Spacing="4">
                        <TextBlock Text="APP"
                                   Classes="section-header"
                                   Margin="0,0,0,8" />

                        <!-- Settings -->
                        <Button Command="{Binding NavigateToSettingsCommand}"
                                Classes="nav-button"
                                AutomationProperties.Name="Navigate to Settings">
                            <Grid ColumnDefinitions="Auto,*">
                                <Path Grid.Column="0"
                                      Classes="nav-icon"
                                      Data="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"
                                      Margin="0,0,12,0" />
                                <TextBlock Grid.Column="1" Text="Settings" />
                            </Grid>
                        </Button>

                        <!-- About -->
                        <Button Classes="nav-button"
                                AutomationProperties.Name="About FrapaClonia">
                            <Grid ColumnDefinitions="Auto,*">
                                <Path Grid.Column="0"
                                      Classes="nav-icon"
                                      Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"
                                      Margin="0,0,12,0" />
                                <TextBlock Grid.Column="1" Text="About" />
                            </Grid>
                        </Button>
                    </StackPanel>

                    <!-- Version Info -->
                    <Border Margin="0,24,0,0"
                            Padding="12"
                            CornerRadius="4"
                            Background="{DynamicResource SystemControlChromeLowBrush}">
                        <StackPanel Spacing="4">
                            <TextBlock Text="FrapaClonia"
                                       FontSize="12"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource SystemControlPageTextBaseHighBrush}" />
                            <TextBlock Text="Version 1.0.0"
                                       FontSize="11"
                                       Foreground="{DynamicResource SystemControlPageTextBaseMediumBrush}" />
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Main Content Area -->
        <Border Grid.Column="1"
                Background="{DynamicResource SystemPageBackgroundBrush}">
            <Grid RowDefinitions="Auto,*">
                <!-- Top Bar (optional for future use) -->
                <Border Grid.Row="0"
                        Height="1"
                        Background="{DynamicResource SystemControlForegroundBaseLowBrush}" />

                <!-- Dynamic Content -->
                <ContentControl Grid.Row="1"
                                Content="{Binding CurrentView}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch" />
            </Grid>
        </Border>
    </Grid>

</Window>
